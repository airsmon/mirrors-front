---
mirrorId: kali
---

## Kali 镜像使用帮助

### 地址

[https://mirrors.idc.daocloud.io/kali/](https://mirrors.idc.daocloud.io/kali/)

### 说明

*Kali Linux* 软件源

### 支持的系统架构

amd64, armel, armhf, i386

---

### 使用说明

#### 方法一

编辑 `/etc/apt/sources.list` 文件, 在文件最前面添加以下条目：

```shell
deb https://mirrors.idc.daocloud.io/kali kali-rolling main non-free contrib
deb-src https://mirrors.idc.daocloud.io/kali kali-rolling main non-free contrib
```

#### 方法二
使用 sed 命令替换

```shell
sudo sed -i "s@http://http.kali.org/kali@https://mirrors.idc.daocloud.io/kali@g" /etc/apt/sources.list
```

#### 方法三(一键脚本)

```bash
# 使用curl
bash <(curl -sSL http://mirrors.idc.daocloud.io/mirrors.sh)
# 使用wget
bash <(wget -qO- http://mirrors.idc.daocloud.io/mirrors.sh)

## 以上使用任一方式均可
```

### 注意

> 更改完 `sources.list` 文件后请运行 `sudo apt-get update` 更新索引以生效。

由于 Kali 仓库未使用 by-hash 机制，同步时的一致性无法保证。如果在同步时执行 `apt update`，可能会看到以下错误

```text
E: 无法下载 https://mirrors.idc.daocloud.io/kali/dists/kali-rolling/main/source/Sources.gz 文件尺寸不符(14593053 != 14592993)。您使用的镜像正在同步中？
```

如果出现以上错误，则需等待同步完成后再执行 `apt update`。
